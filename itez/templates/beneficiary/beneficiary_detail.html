{% extends "layouts/base.html" %} {% load crispy_forms_tags %} {% block title %}
{{ title|title }} {% endblock title %}

<!-- Specific CSS Plugins goes HERE  -->
{% block css_plugins %}


{% endblock css_plugins %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %} {% endblock stylesheets %} {% block content %}

<div class="content-wrapper">
	 {% include "includes/notifications_modal.html" %}
  <div class="row">
    <div class="col-md-4 grid-margin">
		
		<!-- Personal Info -->
		<div class="card" style="margin-bottom: 10px; margin-top: 45px;">
			<div class="card-body" >
				<div style="margin-top: -0.5em; justify-content: center;" class="wrapper d-flex">
					<fieldset style="align-items: center; border: none">
					{% if beneficiary.profile_photo %}
					<img
						height="70"
						width="70"
						style="border-radius: 6em;"
						class="img-md zoom rounded-square"
						src="{{ beneficiary.profile_photo.url }}"
						alt="Profile image"
					/>

					{% elif beneficiary.profile_photo and beneficiary.gender == 'Male' %}
					<img
						style="border-radius: 0.6em;"
						class="img-xs rounded-square mt-4"
						src="/static/assets/images/faces/male.jpeg"
						alt="Profile image"
					/>

					{% elif not beneficiary.profile_photo and beneficiary.gender == 'Female' %}
					<img
						style="border-radius: 0.6em; border-radius: 6em"
						class="img-xs rounded-square mt-4"
						src="/static/assets/images/faces/female.jpeg"
						alt="Profile image"
					/>

					{% else %}
					<img
						style="border-radius: 0.6em; border-radius: 6em"
						class="img-xs rounded-square mt-4"
						src="/static/assets/images/faces/male.jpeg"
						alt="Profile image"
					/>
					{% endif %}
					</fieldset>
				</div>
				<div style="margin-top: -0.5em; justify-content: center;" class="wrapper d-flex">
					<span style="margin-right: 10px; margin-top: 1.2em; ">{{ beneficiary.first_name|title }} {{ beneficiary.last_name|title }}</span>
				</div>
				<div style="margin-top: 5px; justify-content: center;" class="wrapper d-flex">
					<span>{{ beneficiary.date_of_birth }}</span>
				</div>
			
			</div>
		</div>


		<!-- Health Meta Data -->
		<div class="card" style="margin-bottom: 10px;">
			<div class="card-body">
				<div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Sex: </small>
              </div>
            </div>
            <span style="float: left; margin-right: 10px"
              >{{ beneficiary.sex }}</span
            >
          </div>
			<div
            class="
              wrapper
              d-flex
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Gender: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.gender }}</span
            >
          </div>
			<div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">ART Status: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.art_status }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">HIV Status: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.hiv_status }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Last VL: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.last_vl }}</span
            >
          </div>
			</div>
		</div>

		<!-- Contact Info -->
		<div class="card" style="margin-bottom: 10px;">
			<div class="card-body">
				<div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Email Address: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.email }}</span
				>
			  </div>
			  <div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Phone Number: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.phone_number }}</span
				>
			  </div>
			  <div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Education Level: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.education_level }}</span
				>
			  </div>
			  <div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Home Address: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.address }}</span
				>
			  </div>
			</div>
		</div>
		
      <div class="card">
        <div class="card-body">        
                 
          
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Marital Status: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.marital_status }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Spouse Name: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.name_of_spouse }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Number of Children: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.number_of_children }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Number of Siblings: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.number_of_siblings }}</span
            >
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-8 grid-margin">
		<div class="row">
			<div class="col-lg-12 grid margin">
				<div class="accordion" id="accordionExample">
				<div class="d-flex justify-content-between">	
				<h2 class="mt-1" style="font-size: 20px;">
					Last Visit
				</h2>
				<button id="download-medical-report-button" class="btn btn-primary btn-sm text-white" style="border-radius: 2px;">Download</button>
			</div>
					<div class="card" style="margin-top: 10px; 
					border-radius: 2px;
					box-shadow: 0px 3px 15px rgb(0 0 0 / 20%)">
					  <div class="card-header" id="headingOne">
						  <div class="row" style="margin-bottom: 10px;">
							  <!-- Meta Data Section -->
							  <div class="col-xs-12 col-sm-6 col-md-4"><span class="text-muted">Service Name</span> </div>
							  <div class="col-xs-12 col-sm-6 col-md-4"> <span class="text-muted">Service Facility</span> </div>
							  <div class="col-xs-12 col-sm-6 col-md-4">
								  <span class="text-muted">Interaction Date</span>
							  </div>
						  </div>
						  <div class="row" style="margin-bottom: 10px;">
							  <div class="col-xs-12 col-sm-6 col-md-4"><span><strong>{{latest_beneficiary_service.service_name}}</strong> </span></div>
							  <div class="col-xs-12 col-sm-6 col-md-4"><span> <strong>{{latest_beneficiary_service.service_facility}}</strong> </span></div>
							  <div class="col-xs-12 col-sm-6 col-md-4">
								<span><strong>{{latest_beneficiary_service.interaction_date|date:"d M Y"}}</strong> </span>
								  
							  </div>
						  </div>				
					  </div>
				  
					  <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
						<div class="card-header" id="headingOne">
							<div class="row" style="margin-bottom: 10px;">
								<!-- Meta Data Section -->
								<div class="col-xs-12 col-sm-6 col-md-4"> <span class="text-muted">Service Provider</span> </div>
								<div class="col-xs-12 col-sm-6 col-md-4"> <span class="text-muted">Provider Comments</span></div>
								
							</div>	
							<div class="row" style="margin-bottom: 10px;">
								<div class="col-xs-12 col-sm-6 col-md-4"><span> <strong>{{latest_beneficiary_service.service_provider}}</strong></span></div>
								<div class="col-xs-12 col-sm-6 col-md-4"><span> <strong>{{latest_beneficiary_service.service_provider_comments}}</strong> </span></div>
								
								<span></span>
							</div>
								
						</div>
						<div class="card-header">
							<div class="row" style="margin-bottom: 10px;">								
								<div class="col-xs-12 col-sm-6 col-md-4"><span class="text-muted">Supporting Documents</span></div>								
							</div>
							<div class="row">
								<div class="col-xs-12 col-sm-6 col-md-4">
									<p>Documents</p>
								</div>
							</div>
						</div>
					  </div>
					</div>
				  </div>
			</div>
		</div>
      <div class="row">
        <div class="col-lg-12 grid-margin">
          {% include 'includes/services.html' %}
        </div>
	  </div>
    </div>
  </div>
</div>

{% endblock content %}

<!-- Specific JS Plugins goes HERE  -->
{% block js_plugins %}

<script src="/static/assets/vendors/chart.js/Chart.min.js"></script>
<script src="/static/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="/static/assets/vendors/progressbar.js/progressbar.min.js"></script>


{% endblock js_plugins %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script src="/static/assets/js/dashboard.js"></script>
<script src="/static/assets/js/Chart.roundedBarCharts.js"></script>
<script src="/static/assets/js/medical_report_download.js">
</script>

{% endblock javascripts %}
